<template name="1c6fd518">
  <view class="_div data-v-6358f25a chatting">
    <i-modal title="设置禁言时间" visible="{{muteModal}}" bindok="handleProxy" bindcancel="handleProxy" data-eventid="{{'1'}}" data-comkey="{{$k}}" class="_i-modal data-v-6358f25a">
      <view class="_div data-v-6358f25a input-wrapper"><input type="number" class="_input data-v-6358f25a input" placeholder="单位：秒" value="{{muteTime}}" bindinput="handleProxy" data-eventid="{{'0'}}" data-comkey="{{$k}}" /></view>
    </i-modal>
    <view class="_div data-v-6358f25a chat" wx:key="item.userID" key="{{item.userID}}" wx:for="{{currentGroupProfile.memberList}}" wx:for-index="index" wx:for-item="item">
      <i-row slot="content" class="_i-row data-v-6358f25a">
        <i-col span="1" class="_i-col data-v-6358f25a">
          <view class="_div data-v-6358f25a last" wx:if="{{item.role === 'Member'}}">普</view>
          <view class="_div data-v-6358f25a last" wx:elif="{{item.role === 'Admin'}}">管</view>
          <view class="_div data-v-6358f25a last" wx:elif="{{item.role === 'Owner'}}">主</view>
        </i-col>
        <i-col span="3" class="_i-col data-v-6358f25a">
          <view class="_div data-v-6358f25a avatar">
            <i-avatar src="{{item.avatar || '/static/images/header.png'}}" class="_i-avatar data-v-6358f25a"></i-avatar>
          </view>
        </i-col>
        <i-col span="7" class="_i-col data-v-6358f25a">
          <view class="_div data-v-6358f25a information">
            <view class="_div data-v-6358f25a username">{{item.nick || item.userID}}</view>
          </view>
        </i-col>
        <i-col span="6" wx:if="{{currentGroupProfile.type === 'Public' || currentGroupProfile.type === 'ChatRoom'}}" class="_i-col data-v-6358f25a">
          <view class="_div data-v-6358f25a information">
            <view class="_a data-v-6358f25a set" wx:if="{{(isMyRoleOwner || isMyRoleAdmin) && item.role === 'Member'}}" bindtap="handleProxy" data-eventid="{{'2_'+index}}" data-comkey="{{$k}}">设为管理员</view>
            <view class="_a data-v-6358f25a set" wx:if="{{isMyRoleOwner && item.role === 'Admin'}}" bindtap="handleProxy" data-eventid="{{'3_'+index}}" data-comkey="{{$k}}">取消管理员</view>
          </view>
        </i-col>
        <i-col span="3" class="_i-col data-v-6358f25a">
          <view class="_div data-v-6358f25a information">
            <view class="_a data-v-6358f25a delete" wx:if="{{(isMyRoleOwner && item.role !== 'Owner'|| isMyRoleAdmin && item.role === 'Member')}}" bindtap="handleProxy" data-eventid="{{'4_'+index}}" data-comkey="{{$k}}">删除</view>
          </view>
        </i-col>
        <i-col span="4" class="_i-col data-v-6358f25a">
          <view class="_div data-v-6358f25a information" wx:if="{{currentGroupProfile.type !== 'Private'}}">
            <view wx:if="{{(isMyRoleOwner && (item.role === 'Member' || item.role === 'Admin')) || (isMyRoleAdmin && item.role === 'Member')}}" class="_div data-v-6358f25a"><label wx:if="{{item.muteUntil * 1000 > current}}" class="_span data-v-6358f25a">
                <view class="_a data-v-6358f25a delete" bindtap="handleProxy" data-eventid="{{'5_'+index}}" data-comkey="{{$k}}">取消禁言</view>
              </label><label wx:else class="_span data-v-6358f25a">
                <view class="_a data-v-6358f25a delete" bindtap="handleProxy" data-eventid="{{'6_'+index}}" data-comkey="{{$k}}">禁言</view>
              </label></view>
          </view>
        </i-col>
      </i-row>
    </view>
  </view>
</template>